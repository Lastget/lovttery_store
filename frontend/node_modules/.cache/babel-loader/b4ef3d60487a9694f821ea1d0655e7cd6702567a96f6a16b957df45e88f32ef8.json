{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useSearchParams,useNavigate,useLocation}from'react-router-dom';import{LinkContainer}from'react-router-bootstrap';import{Form,Button,Row,Col,Table}from'react-bootstrap';import Loader from'../components/Loader';import Message from'../components/Message';import FormContainer from'../components/FormContainer';import{useDispatch,useSelector}from'react-redux';import{listOrders}from'../actions/orderAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function OrderListScreen(){var navigate=useNavigate();var dispatch=useDispatch();var orderList=useSelector(function(state){return state.orderList;});var loading=orderList.loading,error=orderList.error,orders=orderList.orders;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listOrders());}else{navigate('/login');}},[dispatch,userInfo]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Orders \"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsxs(Message,{variant:\"danger\",children:[\" \",error,\" \"]}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\" ID \"}),/*#__PURE__*/_jsx(\"th\",{children:\" USER \"}),/*#__PURE__*/_jsx(\"th\",{children:\" DATE \"}),/*#__PURE__*/_jsx(\"th\",{children:\" PRICE \"}),/*#__PURE__*/_jsx(\"th\",{children:\" PAID \"}),/*#__PURE__*/_jsx(\"th\",{children:\" DELIVERED \"}),/*#__PURE__*/_jsx(\"th\",{children:\" \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(function(order){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",order._id,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",order.user&&order.user.name,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",order.createdAt.substring(0,10),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" $\",order.totalPrice,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",order.isPaid?order.paidAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'red'},children:\" \"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",order.isDelivered?order.deliveredAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'red'},children:\" \"})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(LinkContainer,{to:\"/order/\".concat(order._id),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:\"Details\"})})})]},order._id);})})]})]});}","map":{"version":3,"names":["React","useState","useEffect","Link","useSearchParams","useNavigate","useLocation","LinkContainer","Form","Button","Row","Col","Table","Loader","Message","FormContainer","useDispatch","useSelector","listOrders","OrderListScreen","navigate","dispatch","orderList","state","loading","error","orders","userLogin","userInfo","isAdmin","map","order","_id","user","name","createdAt","substring","totalPrice","isPaid","paidAt","color","isDelivered","deliveredAt"],"sources":["/Users/richy_air/Documents/project/ecommerece/backend/frontend/src/screens/OrderListScreen.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Link, useSearchParams, useNavigate, useLocation, } from 'react-router-dom'\nimport {LinkContainer} from 'react-router-bootstrap';\nimport {Form, Button, Row, Col, Table} from 'react-bootstrap'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport FormContainer from '../components/FormContainer'\nimport {useDispatch, useSelector } from 'react-redux'\nimport { listOrders } from '../actions/orderAction'\n\nexport default function OrderListScreen() {\n    const navigate = useNavigate()\n    const dispatch = useDispatch() \n\n    const orderList = useSelector(state => state.orderList)\n    const {loading, error, orders} = orderList\n\n    const userLogin = useSelector(state => state.userLogin)\n    const {userInfo} = userLogin\n\n\n    useEffect(() => {\n        if(userInfo && userInfo.isAdmin){\n            dispatch(listOrders())\n        }else{ \n            navigate('/login')\n        }\n       \n    }, [dispatch, userInfo])\n\n    \n  return (\n    <div>\n        <h1> Orders </h1>\n        {loading \n            ? (<Loader/> )\n            : error\n                ?( <Message variant='danger'> {error} </Message>)\n                :(\n                    <Table striped bordered hover className='table-sm'>\n                        <thead> \n                            <tr> \n                                <th> ID </th>\n                                <th> USER </th>\n                                <th> DATE </th>\n                                <th> PRICE </th>\n                                <th> PAID </th>\n                                <th> DELIVERED </th>\n                                <th> </th>\n                            </tr>\n                        </thead> \n                        <tbody > \n                            \n                            {orders.map(order =>(\n                                <tr key = {order._id} >\n                                    <td> {order._id} </td> \n                                    <td> {order.user && order.user.name} </td> \n                                    <td> {order.createdAt.substring(0,10)} </td> \n                                    <td> ${order.totalPrice} </td> \n                                    <td> {order.isPaid ? (\n                                       order.paidAt.substring(0,10)\n                                    ):(\n                                       <i className='fas fa-check' style={{color:'red'}}> </i>\n                                       )}\n                                    </td>\n\n                                    <td> {order.isDelivered ? (\n                                       order.deliveredAt.substring(0,10)\n                                    ):(\n                                       <i className='fas fa-check' style={{color:'red'}}> </i>\n                                       )}\n                                    </td>\n\n                                    <td> \n                                        <LinkContainer to={`/order/${order._id}`}>\n                                            <Button variant='light' className='btn-sm'> \n                                                Details\n                                            </Button>\n\n                                        </LinkContainer>\n\n                                    </td>\n                                </tr>\n\n                            ))}\n                            \n\n                        </tbody>\n\n                    </Table>\n                )\n        }\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}