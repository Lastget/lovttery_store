{"ast":null,"code":"import * as constants from '../constants/productConstants';\nimport axios from 'axios';\n\n// list Product action : making API request and get product list.\nexport const listProducts = () => async dispatch => {\n  try {\n    dispatch({\n      type: constants.PRODUCT_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get('/api/products/');\n    dispatch({\n      type: constants.PRODUCT_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: constants.PRODUCT_LIST_FAILED,\n      payload: error.response && error.response.data.detail ? error.response.data.detail : error.message\n    });\n  }\n};\nexport const listProductsDetails = id => async dispatch => {\n  try {\n    dispatch({\n      type: constants.PRODUCT_DETAILS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`/api/products/${id}`);\n    dispatch({\n      type: constants.PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: constants.PRODUCT_DETAILS_FAILED,\n      payload: error.response && error.response.data.detail ? error.response.data.detail : error.message\n    });\n  }\n};\nexport const deleteProduct = id => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: constants.PRODUCT_DELETE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.delete(`/api/products/delete/${id}/`, config);\n    dispatch({\n      type: constants.PRODUCT_DELETE_SUCCESS\n    });\n  } catch (error) {\n    dispatch({\n      type: constants.PRODUCT_DELETE_FAILED,\n      payload: error.response && error.response.data.detail ? error.response.data.detail : error.message\n    });\n  }\n};\nexport const createProduct = () => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: constants.PRODUCT_CREATE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.post(`/api/products/create/`, {}, config);\n\n    //send to reducer and update the state\n    dispatch({\n      type: constants.PRODUCT_CREATE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: constants.PRODUCT_CREATE_FAILED,\n      payload: error.response && error.response.data.detail ? error.response.data.detail : error.message\n    });\n  }\n};\nexport const updateProduct = product => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: constants.PRODUCT_UPDATE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.put(`/api/products/update/${product._id}/`, product, config);\n\n    //send to reducer and update the state\n    dispatch({\n      type: constants.PRODUCT_UPDATE_SUCCESS,\n      payload: data\n    });\n    dispatch({\n      type: constants.PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: constants.PRODUCT_UPDATE_FAILED,\n      payload: error.response && error.response.data.detail ? error.response.data.detail : error.message\n    });\n  }\n};\nexport const createProductReview = (productId, review) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: constants.PRODUCT_CREATE_REVIEW_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.post(`/api/products/${productId}/reviews/`, review, config);\n\n    //send to reducer and update the state\n    dispatch({\n      type: constants.PRODUCT_CREATE_REVIEW_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: constants.PRODUCT_CREATE_REVIEW_FAILED,\n      payload: error.response && error.response.detail ? error.response.detail : error.message\n    });\n  }\n};","map":{"version":3,"names":["constants","axios","listProducts","dispatch","type","PRODUCT_LIST_REQUEST","data","get","PRODUCT_LIST_SUCCESS","payload","error","PRODUCT_LIST_FAILED","response","detail","message","listProductsDetails","id","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAILED","deleteProduct","getState","PRODUCT_DELETE_REQUEST","userLogin","userInfo","config","headers","Authorization","token","delete","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAILED","createProduct","PRODUCT_CREATE_REQUEST","post","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAILED","updateProduct","product","PRODUCT_UPDATE_REQUEST","put","_id","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAILED","createProductReview","productId","review","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_FAILED"],"sources":["/Users/richy_air/Documents/project/ecommerece/frontend/src/actions/productActions.js"],"sourcesContent":["import * as constants from '../constants/productConstants'\nimport axios from 'axios'\n\n// list Product action : making API request and get product list.\nexport const listProducts = () => async (dispatch) => {\n    try{\n        dispatch({type: constants.PRODUCT_LIST_REQUEST})\n\n        const {data} = await axios.get('/api/products/')\n\n        dispatch({\n            type: constants.PRODUCT_LIST_SUCCESS,\n            payload: data})\n\n\n    }catch(error){\n\n        dispatch({\n            type: constants.PRODUCT_LIST_FAILED,\n            payload: error.response && error.response.data.detail\n                ? error.response.data.detail\n                : error.message\n\n        })\n\n    }\n}\n\n\nexport const listProductsDetails = (id) => async (dispatch) => {\n    try{\n        dispatch({type: constants.PRODUCT_DETAILS_REQUEST})\n\n        const {data} = await axios.get(`/api/products/${id}`)\n\n        dispatch({\n            type: constants.PRODUCT_DETAILS_SUCCESS,\n            payload: data})\n\n\n    }catch(error){\n\n        dispatch({\n            type: constants.PRODUCT_DETAILS_FAILED,\n            payload: error.response && error.response.data.detail\n                ? error.response.data.detail\n                : error.message\n\n        })\n\n    }\n}\n\n\nexport const deleteProduct = (id) => async(dispatch, getState) => {\n    try{\n        dispatch({\n            type: constants.PRODUCT_DELETE_REQUEST,\n        })\n\n        const {\n            userLogin: { userInfo }\n        } = getState()\n\n        const config={\n            headers: {\n                'Content-type': 'application/json',\n                Authorization: `Bearer ${userInfo.token}` \n            }\n        }\n\n        const {data} = await axios.delete(\n            `/api/products/delete/${id}/`,\n            config\n        )\n        \n        dispatch({\n            type:constants.PRODUCT_DELETE_SUCCESS,\n        })\n\n    }catch(error){\n\n        dispatch({\n            type: constants.PRODUCT_DELETE_FAILED,\n            payload: error.response && error.response.data.detail\n                ? error.response.data.detail\n                : error.message\n\n        })\n    }\n}\n\n\n\nexport const createProduct = () => async(dispatch, getState) => {\n    try{\n        dispatch({\n            type: constants.PRODUCT_CREATE_REQUEST,\n        })\n\n        const {\n            userLogin: { userInfo }\n        } = getState()\n\n        const config={\n            headers: {\n                'Content-type': 'application/json',\n                Authorization: `Bearer ${userInfo.token}` \n            }\n        }\n\n        const {data} = await axios.post(\n            `/api/products/create/`,\n            {},\n            config\n        )\n        \n        //send to reducer and update the state\n        dispatch({\n            type:constants.PRODUCT_CREATE_SUCCESS,\n            payload: data,\n        })\n\n    }catch(error){\n\n        dispatch({\n            type: constants.PRODUCT_CREATE_FAILED,\n            payload: error.response && error.response.data.detail\n                ? error.response.data.detail\n                : error.message\n\n        })\n    }\n}\n\n\n\n\nexport const updateProduct = (product) => async(dispatch, getState) => {\n    try{\n        dispatch({\n            type: constants.PRODUCT_UPDATE_REQUEST,\n        })\n\n        const {\n            userLogin: { userInfo }\n        } = getState()\n\n        const config={\n            headers: {\n                'Content-type': 'application/json',\n                Authorization: `Bearer ${userInfo.token}` \n            }\n        }\n\n        const {data} = await axios.put(\n            `/api/products/update/${product._id}/`,\n            product,\n            config\n        )\n        \n        //send to reducer and update the state\n        dispatch({\n            type:constants.PRODUCT_UPDATE_SUCCESS,\n            payload: data,\n        })\n\n        dispatch({type: constants.PRODUCT_DETAILS_SUCCESS, \n                    payload: data})\n\n    }catch(error){\n\n        dispatch({\n            type: constants.PRODUCT_UPDATE_FAILED,\n            payload: error.response && error.response.data.detail\n                ? error.response.data.detail\n                : error.message\n\n        })\n    }\n}\n\n\n\n\nexport const createProductReview = (productId, review) => async(dispatch, getState) => {\n    try{\n        dispatch({\n            type: constants.PRODUCT_CREATE_REVIEW_REQUEST,\n        })\n\n        const {\n            userLogin: { userInfo }\n        } = getState()\n\n        const config={\n            headers: {\n                'Content-type': 'application/json',\n                Authorization: `Bearer ${userInfo.token}` \n            }\n        }\n\n        const {data} = await axios.post(\n            `/api/products/${productId}/reviews/`,\n            review,\n            config\n        )\n        \n        //send to reducer and update the state\n        dispatch({\n            type:constants.PRODUCT_CREATE_REVIEW_SUCCESS,\n            payload: data,\n        })\n\n\n    }catch(error){\n\n        dispatch({\n            type: constants.PRODUCT_CREATE_REVIEW_FAILED,\n            payload: error.response && error.response.detail\n                ? error.response.detail\n                : error.message\n\n        })\n    }\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}