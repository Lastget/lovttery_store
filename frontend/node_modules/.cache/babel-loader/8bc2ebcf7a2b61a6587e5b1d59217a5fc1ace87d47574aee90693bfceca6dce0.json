{"ast":null,"code":"import _slicedToArray from\"/Users/richy_air/Documents/project/ecommerece/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link,useSearchParams,useNavigate,useLocation}from'react-router-dom';import{Form,Button,Row,Col}from'react-bootstrap';import Loader from'../components/Loader';import Message from'../components/Message';import FormContainer from'../components/FormContainer';import{useDispatch,useSelector}from'react-redux';import{register}from'../actions/userActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RegisterScreen(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),confirmedPassword=_useState8[0],setConfirmedPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];// const[searchParams, setSearchParams]= useSearchParams(); \n// const redirect = searchParams.get('redirect');\nvar location=useLocation();var navigate=useNavigate();var dispatch=useDispatch();var redirect=location.state?Number(location.state):'/';var userRegister=useSelector(function(state){return state.userRegister;});var error=userRegister.error,loading=userRegister.loading,userInfo=userRegister.userInfo;useEffect(function(){if(userInfo){navigate(redirect);}},[navigate,userInfo,redirect]);var submitHandler=function submitHandler(e){e.preventDefault();if(password!==confirmedPassword){setMessage('PAssword idd not match');}else{dispatch(register(name,email,password));}};return/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Sign In \"}),message&&/*#__PURE__*/_jsxs(Message,{variant:\"danger\",children:[\" \",message,\" \"]}),error&&/*#__PURE__*/_jsxs(Message,{variant:\"danger\",children:[\" \",error,\" \"]}),loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\" Name Address \"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"name\",placeholder:\"Enter Name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\" Email Address \"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"email\",placeholder:\"Enter Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\" Password \"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"password\",placeholder:\"Enter Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"passwordConfirmed\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\" Confirm Password \"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"password\",placeholder:\"Confirm Password\",value:confirmedPassword,onChange:function onChange(e){return setConfirmedPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Register\"})]}),/*#__PURE__*/_jsx(Row,{className:\"py-3\",children:/*#__PURE__*/_jsxs(Col,{children:[\"Have an account ?\",/*#__PURE__*/_jsx(Link,{to:redirect?\"/login?redirect=\".concat(redirect):'/login',children:\"Login\"})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","Link","useSearchParams","useNavigate","useLocation","Form","Button","Row","Col","Loader","Message","FormContainer","useDispatch","useSelector","register","RegisterScreen","name","setName","email","setEmail","password","setPassword","confirmedPassword","setConfirmedPassword","message","setMessage","location","navigate","dispatch","redirect","state","Number","userRegister","error","loading","userInfo","submitHandler","e","preventDefault","target","value"],"sources":["/Users/richy_air/Documents/project/ecommerece/backend/frontend/src/screens/RegisterScreen.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Link, useSearchParams, useNavigate, useLocation } from 'react-router-dom'\nimport {Form, Button, Row, Col} from 'react-bootstrap'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport FormContainer from '../components/FormContainer'\nimport {useDispatch, useSelector } from 'react-redux'\nimport { register } from '../actions/userActions'\n\nexport default function RegisterScreen() {\n    const [name, setName] = useState('')\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [confirmedPassword, setConfirmedPassword] = useState('')\n    const [message, setMessage] = useState('')\n\n    // const[searchParams, setSearchParams]= useSearchParams(); \n    // const redirect = searchParams.get('redirect');\n\n    const location = useLocation()\n    const navigate = useNavigate(); \n    const dispatch = useDispatch()\n\n    const redirect = location.state? Number(location.state) : '/'\n    const userRegister = useSelector(state => state.userRegister)\n    const {error, loading, userInfo} = userRegister\n\n    useEffect(() => {\n        if(userInfo) {\n            navigate(redirect)\n        }\n    }, [navigate, userInfo, redirect])\n\n\n\n    const submitHandler = (e) => { \n        e.preventDefault()\n\n\n        if(password !== confirmedPassword){\n            setMessage('PAssword idd not match')\n        }else{\n            dispatch(register(name, email,password))   \n        }\n \n    }\n    return (\n        <FormContainer>\n            <h1> Sign In </h1>\n            {message && <Message variant='danger'> {message} </Message>  }\n            {error && <Message variant='danger'> {error} </Message>  }\n            {loading && <Loader />}\n            <Form onSubmit={submitHandler}> \n                <Form.Group controlId ='name'>\n                    <Form.Label> Name Address </Form.Label>\n                    <Form.Control     \n                        required                \n                        type=\"name\"\n                        placeholder =\"Enter Name\"\n                        value = {name}\n                        onChange = {(e) => setName(e.target.value)}\n                    > \n                    </Form.Control>\n                </Form.Group>\n\n                <Form.Group controlId ='email'>\n                    <Form.Label> Email Address </Form.Label>\n                    <Form.Control   \n                        required                   \n                        type=\"email\"\n                        placeholder =\"Enter Email\"\n                        value = {email}\n                        onChange = {(e) => setEmail(e.target.value)}\n                    > \n                    </Form.Control>\n                </Form.Group>\n\n\n                <Form.Group controlId ='password'>\n                    <Form.Label> Password </Form.Label>\n                    <Form.Control\n                        required                      \n                        type=\"password\"\n                        placeholder =\"Enter Password\"\n                        value = {password}\n                        onChange = {(e) => setPassword(e.target.value)}\n                    >  \n                    </Form.Control>\n                </Form.Group>\n\n\n                <Form.Group controlId ='passwordConfirmed'>\n                    <Form.Label> Confirm Password </Form.Label>\n                    <Form.Control\n                        required                      \n                        type=\"password\"\n                        placeholder =\"Confirm Password\"\n                        value = {confirmedPassword}\n                        onChange = {(e) => setConfirmedPassword(e.target.value)}\n                    >  \n                    </Form.Control>\n                </Form.Group>\n\n                <Button type='submit' variant='primary'>\n                    Register\n                </Button>\n\n            </Form> \n\n            <Row className='py-3'>\n                <Col>\n                    Have an account ?\n                        <Link to={redirect ? `/login?redirect=${redirect}` : '/login'}> \n                            Login \n                        </Link>\n                </Col>\n            </Row>\n\n        </FormContainer>\n        )\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}