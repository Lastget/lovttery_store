{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useSearchParams,useNavigate,useLocation}from'react-router-dom';import{LinkContainer}from'react-router-bootstrap';import{Form,Button,Row,Col,Table}from'react-bootstrap';import Loader from'../components/Loader';import Message from'../components/Message';import FormContainer from'../components/FormContainer';import{useDispatch,useSelector}from'react-redux';import{listUsers,deleteUser}from'../actions/userActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserListScreen(){var navigate=useNavigate();var dispatch=useDispatch();var userList=useSelector(function(state){return state.userList;});var loading=userList.loading,error=userList.error,users=userList.users;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var userDelete=useSelector(function(state){return state.userDelete;});var success_delete=userDelete.success;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listUsers());}else{navigate('/login');}},[dispatch,success_delete,userInfo]);var deleteHandler=function deleteHandler(id){if(window.confirm('Are you sure you want to delete the user? ')){dispatch(deleteUser(id));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Users \"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsxs(Message,{variant:\"danger\",children:[\" \",error,\" \"]}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\" ID \"}),/*#__PURE__*/_jsx(\"th\",{children:\" NAME \"}),/*#__PURE__*/_jsx(\"th\",{children:\" EMAIL \"}),/*#__PURE__*/_jsx(\"th\",{children:\" ADMIN \"}),/*#__PURE__*/_jsx(\"th\",{children:\" \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",user._id,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",user.name,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",user.email,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",user.isAdmin?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'green'}}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'red'}}),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/user/\".concat(user._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm\",onClick:function onClick(){return deleteHandler(user._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},user._id);})})]})]});}","map":{"version":3,"names":["React","useState","useEffect","Link","useSearchParams","useNavigate","useLocation","LinkContainer","Form","Button","Row","Col","Table","Loader","Message","FormContainer","useDispatch","useSelector","listUsers","deleteUser","UserListScreen","navigate","dispatch","userList","state","loading","error","users","userLogin","userInfo","userDelete","success_delete","success","isAdmin","deleteHandler","id","window","confirm","map","user","_id","name","email","color"],"sources":["/Users/richy_air/Documents/project/ecommerece/backend/frontend/src/screens/UserListScreen.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Link, useSearchParams, useNavigate, useLocation, } from 'react-router-dom'\nimport {LinkContainer} from 'react-router-bootstrap';\nimport {Form, Button, Row, Col, Table} from 'react-bootstrap'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport FormContainer from '../components/FormContainer'\nimport {useDispatch, useSelector } from 'react-redux'\nimport { listUsers, deleteUser } from '../actions/userActions'\n\nexport default function UserListScreen() {\n    const navigate = useNavigate()\n    const dispatch = useDispatch() \n    const userList = useSelector(state => state.userList)\n    const {loading, error, users} = userList\n\n    const userLogin = useSelector(state => state.userLogin)\n    const {userInfo} = userLogin\n\n\n    const userDelete = useSelector(state => state.userDelete)\n    const {success:success_delete} = userDelete\n\n\n    useEffect(() => {\n        if(userInfo && userInfo.isAdmin){\n            dispatch(listUsers())\n        }else{\n            navigate('/login')\n        }\n       \n    }, [dispatch, success_delete, userInfo])\n\n    const deleteHandler = (id) => {\n\n        if (window.confirm('Are you sure you want to delete the user? ')){\n            dispatch(deleteUser(id)) \n        }\n    }\n    \n  return (\n    <div>\n        <h1> Users </h1>\n        {loading \n            ? (<Loader/> )\n            : error\n                ?( <Message variant='danger'> {error} </Message>)\n                :(\n                    <Table striped bordered hover className='table-sm'>\n                        <thead> \n                            <tr> \n                                <th> ID </th>\n                                <th> NAME </th>\n                                <th> EMAIL </th>\n                                <th> ADMIN </th>\n                                <th> </th>\n                            </tr>\n                        </thead> \n                        <tbody > \n                            \n                            {users.map(user =>(\n                                <tr key = {user._id} >\n                                    <td> {user._id} </td> \n                                    <td> {user.name} </td> \n                                    <td> {user.email} </td> \n                                    <td> {user.isAdmin ? (\n                                        <i className='fas fa-check' style = {{color: 'green'}}></i>\n                                    ):(\n                                        <i className='fas fa-check' style = {{color: 'red'}}></i>\n                                    )} </td>\n\n                                    <td> \n                                        <LinkContainer to={`/admin/user/${user._id}/edit`}>\n                                            <Button variant='light' className='btn-sm'> \n                                                <i className='fas fa-edit'></i>\n                                            </Button>\n\n                                        </LinkContainer>\n\n                                        <Button variant='danger' className='btn-sm' onClick={() => deleteHandler(user._id)}> \n                                                <i className='fas fa-trash'></i>\n                                        </Button>\n\n                                    </td>\n                                </tr>\n\n                            ))}\n                            \n\n                        </tbody>\n\n                    </Table>\n                )\n        }\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}