{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Row,Col}from'react-bootstrap';import Product from'../components/Product';import Loader from'../components/Loader';import Message from'../components/Message';import Paginate from'../components/Paginate';import{listProducts}from'../actions/productActions';import{useSearchParams,useLocation}from'react-router-dom';import ProductCarousel from'../components/ProductCarousel';// API call and actions \nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HomeScreen(){var dispatch=useDispatch();var productList=useSelector(function(state){return state.productList;});var error=productList.error,loading=productList.loading,products=productList.products,page=productList.page,pages=productList.pages;var location=useLocation();var keyword=location.search;// if (keyword){\n//     keyword = keyword.split('?keyword=')[1].split('&page')[0]\n// } \n// console.log(keyword)\nuseEffect(function(){dispatch(listProducts(keyword));},[dispatch,keyword]);return/*#__PURE__*/_jsxs(\"div\",{children:[!keyword&&/*#__PURE__*/_jsx(ProductCarousel,{}),/*#__PURE__*/_jsx(\"h1\",{children:\"LATEST PRODUCTS\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsxs(Message,{variant:\"danger\",children:[\" \",error,\" \"]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Row,{children:products.map(function(product){return/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:3,children:/*#__PURE__*/_jsx(Product,{product:product})},product._id);})}),/*#__PURE__*/_jsx(Paginate,{page:page,pages:pages,keyword:keyword})]})]});}export default HomeScreen;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","Row","Col","Product","Loader","Message","Paginate","listProducts","useSearchParams","useLocation","ProductCarousel","HomeScreen","dispatch","productList","state","error","loading","products","page","pages","location","keyword","search","map","product","_id"],"sources":["/Users/richy_air/Documents/project/ecommerece/backend/frontend/src/screens/HomeScreen.js"],"sourcesContent":["import React,{useState, useEffect} from 'react'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {Row, Col} from 'react-bootstrap'\nimport Product from '../components/Product'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport Paginate from '../components/Paginate'\nimport {listProducts} from '../actions/productActions'\nimport {useSearchParams, useLocation} from 'react-router-dom'\nimport  ProductCarousel from '../components/ProductCarousel'\n\n\n// API call and actions \nfunction HomeScreen() {\n    const dispatch = useDispatch()\n    const productList = useSelector(state => state.productList)\n    const {error, loading, products, page, pages } = productList\n    \n    const location = useLocation()\n    let keyword = location.search\n\n    // if (keyword){\n    //     keyword = keyword.split('?keyword=')[1].split('&page')[0]\n    // } \n    // console.log(keyword)\n\n    useEffect(() => {\n        dispatch(listProducts(keyword))\n      \n    }, [dispatch, keyword])\n\n\n  \n    return (\n        <div>\n            {!keyword && <ProductCarousel /> }\n        \n            <h1>LATEST PRODUCTS</h1>\n            {loading ? <Loader /> \n                : error ? <Message variant='danger'> {error} </Message> \n                    : \n                    <div> \n                        <Row>\n                            {products.map(product =>(\n                                <Col key={product._id} sm={12} md={6} lg={4} xl={3}>\n                                    <Product product={product} />\n                                </Col>\n                            ))}\n                        </Row>\n                        <Paginate page={page} pages={pages} keyword={keyword} /> \n                    </div> \n            }\n        </div>\n  )\n}\n\nexport default HomeScreen"],"mappings":"AAAA,MAAOA,MAAK,EAAEC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAC/C,OAAQC,WAAW,CAAEC,WAAW,KAAO,aAAa,CACpD,OAAQC,GAAG,CAAEC,GAAG,KAAO,iBAAiB,CACxC,MAAOC,QAAO,KAAM,uBAAuB,CAC3C,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,QAAO,KAAM,uBAAuB,CAC3C,MAAOC,SAAQ,KAAM,wBAAwB,CAC7C,OAAQC,YAAY,KAAO,2BAA2B,CACtD,OAAQC,eAAe,CAAEC,WAAW,KAAO,kBAAkB,CAC7D,MAAQC,gBAAe,KAAM,+BAA+B,CAG5D;AAAA,wFACA,QAASC,WAAU,EAAG,CAClB,GAAMC,SAAQ,CAAGb,WAAW,EAAE,CAC9B,GAAMc,YAAW,CAAGb,WAAW,CAAC,SAAAc,KAAK,QAAIA,MAAK,CAACD,WAAW,GAAC,CAC3D,GAAOE,MAAK,CAAqCF,WAAW,CAArDE,KAAK,CAAEC,OAAO,CAA4BH,WAAW,CAA9CG,OAAO,CAAEC,QAAQ,CAAkBJ,WAAW,CAArCI,QAAQ,CAAEC,IAAI,CAAYL,WAAW,CAA3BK,IAAI,CAAEC,KAAK,CAAKN,WAAW,CAArBM,KAAK,CAE5C,GAAMC,SAAQ,CAAGX,WAAW,EAAE,CAC9B,GAAIY,QAAO,CAAGD,QAAQ,CAACE,MAAM,CAE7B;AACA;AACA;AACA;AAEAxB,SAAS,CAAC,UAAM,CACZc,QAAQ,CAACL,YAAY,CAACc,OAAO,CAAC,CAAC,CAEnC,CAAC,CAAE,CAACT,QAAQ,CAAES,OAAO,CAAC,CAAC,CAIvB,mBACI,uBACK,CAACA,OAAO,eAAI,KAAC,eAAe,IAAG,cAEhC,oBAAI,iBAAe,EAAK,CACvBL,OAAO,cAAG,KAAC,MAAM,IAAG,CACfD,KAAK,cAAG,MAAC,OAAO,EAAC,OAAO,CAAC,QAAQ,WAAC,GAAC,CAACA,KAAK,CAAC,GAAC,GAAU,cAEnD,oCACI,KAAC,GAAG,WACCE,QAAQ,CAACM,GAAG,CAAC,SAAAC,OAAO,qBACjB,KAAC,GAAG,EAAmB,EAAE,CAAE,EAAG,CAAC,EAAE,CAAE,CAAE,CAAC,EAAE,CAAE,CAAE,CAAC,EAAE,CAAE,CAAE,uBAC/C,KAAC,OAAO,EAAC,OAAO,CAAEA,OAAQ,EAAG,EADvBA,OAAO,CAACC,GAAG,CAEf,EACT,CAAC,EACA,cACN,KAAC,QAAQ,EAAC,IAAI,CAAEP,IAAK,CAAC,KAAK,CAAEC,KAAM,CAAC,OAAO,CAAEE,OAAQ,EAAG,GACtD,GAEZ,CAEd,CAEA,cAAeV,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}